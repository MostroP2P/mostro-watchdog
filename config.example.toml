# mostro-watchdog configuration
# Copy this file to config.toml and fill in your values.

[mostro]
# Your Mostro daemon's Nostr public key (hex or npub format)
# Find this in your mostrod configuration
pubkey = "npub1..."

[nostr]
# Nostr relays to connect to (use the same relays as your mostrod)
relays = [
    "wss://relay.mostro.network",
    "wss://relay.damus.io",
]

[telegram]
# Bot token from @BotFather (https://t.me/BotFather)
# 1. Open Telegram and search for @BotFather
# 2. Send /newbot and follow the instructions
# 3. Copy the token here
bot_token = "123456789:ABCdefGHIjklMNOpqrsTUVwxyz"

# Chat ID where alerts will be sent
# This can be a group, channel, or personal chat ID
# To get a group/channel ID:
# 1. Add your bot to the group/channel
# 2. Send a message in the group
# 3. Visit: https://api.telegram.org/bot<YOUR_TOKEN>/getUpdates
# 4. Find the "chat":{"id": ...} value
chat_id = -1001234567890

# Alert configuration (optional)
# Enable/disable specific types of dispute alerts
[alerts]
# New disputes (default: true)
initiated = true

# Dispute taken by solver (default: true)
in_progress = true

# Dispute resolved with seller refund (default: true)
seller_refunded = true

# Dispute settled with payment to buyer (default: true)
settled = true

# Dispute released by seller (default: true)
released = true

# Other/unknown status changes (default: true)
other = true

# Health check and monitoring configuration (optional)
[health]
# Enable periodic heartbeat notifications (default: true)
heartbeat_enabled = true

# Send heartbeat every N seconds (default: 3600 = 1 hour)
heartbeat_interval = 3600

# Check Nostr relay connections periodically (default: true)
check_relays = true

# Relay connection timeout in seconds (default: 30)
relay_timeout = 30

# Alert if no events received for N seconds (default: 7200 = 2 hours)
# Set to 0 to disable event silence alerts
event_alert_threshold = 7200

# Enable HTTP health status endpoint (default: false)
# Useful for external monitoring systems (uptime checkers, k8s liveness probes)
enable_http_endpoint = false

# HTTP endpoint port (default: 8080)
# Health endpoint will be available at http://localhost:8080/health
http_port = 8080

# HTTP endpoint bind address (default: "127.0.0.1")
# Set to "0.0.0.0" when running in Docker to allow port mapping
# http_bind = "0.0.0.0"
